aio (all in one)

Aio — экспериментальный формат базы сообщений. В этом формате на каждую эхоконференцию приходится по одному файлу, в котором хранится и индекс конференции и сообщения.

Формат файла конференции очень прост. Каждая строчка файла представляет собой запись вида:

msgid:body

где body это "сырое" содержимое сообщения (как содержимое файла из директории msg/ в классической базе) с символами \n заменёнными на chr(15).

Формат несколько замедляет работу клиента, но может оказаться полезен на системах с ФС, ограничивающими количество файлов в директории.

Для фетчинга сообщений в aio-базу следует использовать fetcher_aio.py.
