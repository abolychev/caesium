mailer
======

Мейлер — отдельная программа для обмена сообщениями с нодой. В цезии отправка и получение почты осуществляется посредством вызоава мейлера.

mailer.py позволяет совмещать отправку и получение сообщений либо же провоизводить их раздельно. Для работы требует наличия в своей директории копии api/.

Задавать параметры работы мейлера можно как через параметры командной строки, так и через конфигурационный файл.

Параметры конфигурационного файла:

  * node — адрес ноды с учётом схем u/. Например node http://idec.spline-online.tk/u/
  * nodename — название ноды. Необходимо для отправки сообщения, так как все исходящие находятся в директории out/<nodename>. Для адекватной работы с цезием параметр должен совпадать с одноимённым параметром из конфигурационного файла цезия.
  * auth — строка авторизации. Необходима для отправки сообщений.
  * depth — глубина сканирования индекса на ноде. Позволяет экономить трафик при обмене с нодой. Работает только с узлами idec-сетей, так как требует поддержку расширенной схемы u/e на их стороне.
  * echo — имя эхоконференции для фетчинга.
  * db — тип базы сообщений (txt, aio, ait). Для подробной информации см. файл formats.md.
  * oldmode — принудительное игнорирование расширенной схемы u/e. Может быть полезно для ускорения обмена с узлами ii-сетей.
  * to — имя для определения сообщений, попадающих в карбонку.
  * fetchonly — заставляет мейлер пропускать поиск исходящих сообщений и их отправку.
  * sendonly — заставляет мейлер пропускать поиск новых сообщений у аплинка и их получение.

Параметры командной строки, можно узнать, вызвав мейлер с опцией -h.
