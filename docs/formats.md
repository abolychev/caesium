Форматы базы сообщений
======================

txt
---

Классический для ii/idec формат. Каждое сообщение хранится в отдельном файле в директории msg/. Индексы конференций хранятся в директории echo/ и представляют собой текстовые файлы со списком сообщений в конференции. Каждый msgid хранится в отдельной строке.

aio
---

Формат txt имеет недостаток в виде множества маленьких файлов, приводящий к долгому копированию базы, её анализу, затруднённому копированию или удалению отдельной конференции. Для решения этих проблем был придуман формат aio (all in one).

Каждая конференция хранится в отдельном .aio-файле. Каждое сообщение хранится в отдельной строке следующего формата:

msgid:текст сообщения, с заменённым симполом перевода строки на символ с кодом 15

Такую базу можно легко обрабатывать и анализировать. Скорость работы с базой достаточно высокая за счёт резкого сокращения времени дисковых операций. Но для работы на ноде или клиенте она недостаточно быстрая, так как резко увеличивается время построения индекса.

ait
---

Этот формат является результатом "скрещивания" форматов txt и aio. Каждая конференция хранится в двух файлах: .mat, совпадающий по формату с .aio и .iat, представляющий собой индексный файл из txt-базы. Таким образом достигнута скорость построения индекса как в txt и скорость доступа к сообщениям как в aio базах.
